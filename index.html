<!doctype html>
<html lang="th">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>แบบทดสอบช่างติดตั้งโซลาร์เซลล์ — 75 ข้อ</title>
<style>
:root{--bg:#f6fff6;--panel:#e6f7e6;--accent:#4caf50;--muted:#666}
*{box-sizing:border-box}
body{margin:0;font-family:Tahoma,Arial,Helvetica,sans-serif;background:var(--bg);color:#111}
#app{display:flex;min-height:100vh}
#sidebar{width:300px;padding:16px;background:var(--panel);border-right:3px solid #c8e6c9}
#content{flex:1;padding:20px}
.card{background:#fff;border-radius:10px;padding:14px;margin-bottom:14px;box-shadow:0 3px 8px rgba(0,0,0,.06)}
.qimg{max-width:60%;display:block;margin:10px 0;border-radius:8px}
.toolbar{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px}
.btn{padding:8px 12px;border-radius:8px;border:none;background:var(--accent);color:#fff;cursor:pointer}
.btn.warn{background:#ffa000}
.btn.danger{background:#ef5350}
.options label{display:block;margin:8px 0;cursor:pointer}
.opt-picked::after{content:" ← คำตอบของคุณ";color:#444;font-weight:600}
.modal{position:fixed;inset:0;background:rgba(0,0,0,.45);display:flex;align-items:center;justify-content:center;z-index:99}
.modal .box{background:#fff;padding:16px;border-radius:8px;width:min(560px,94vw)}
.qnum{font-weight:700}

/* ไฮไลท์ข้อที่ถูก/ผิด */
.card.correct{border:2px solid #4caf50;background:#e8f5e9}
.card.wrong{border:2px solid #ef5350;background:#ffebee}
</style>
</head>
<body>
<div id="startModal" class="modal">
  <div class="box">
    <h3>กรอกชื่อผู้สอบเพื่อเริ่มทำข้อสอบ</h3>
    <input id="nameInput" style="width:100%;padding:8px;margin:10px 0;font-size:16px" placeholder="พิมพ์ชื่อผู้สอบ">
    <button id="startBtn" class="btn">เริ่มทำข้อสอบ</button>
  </div>
</div>
<div id="app" style="display:none">
  <aside id="sidebar">
    <div id="candidate">ผู้สอบ: —</div>
    <div style="margin-top:12px">เวลา: <span id="timer">60:00</span></div>
    <div id="score">คะแนน: —</div>
    <div id="statusMsg" style="margin-top:10px;color:var(--muted)">ตอบให้ครบ 75 ข้อเพื่อเปิดปุ่มส่ง</div>
    <div id="summary" style="margin-top:12px"></div>
  </aside>
  <main id="content">
    <div class="toolbar">
      <button id="prevBtn" class="btn">ก่อนหน้า</button>
      <button id="nextBtn" class="btn">ถัดไป</button>
      <button id="btnNextUnanswered" class="btn warn">ไปข้อที่ยังไม่ทำ</button>
      <button id="btnReset" class="btn danger">ล้างคำตอบ</button>
      <button id="finishBtn" class="btn" style="display:none">ส่งคำตอบ</button>
    </div>
    <div id="questionContainer"></div>
    <div class="card" style="opacity:.9;font-size:14px">เคล็ดลับ: ใช้ปุ่ม "ไปข้อที่ยังไม่ทำ" เพื่อข้ามไปยังคำถามที่ยังไม่ได้เลือกคำตอบ</div>
  </main>
</div>

<script>
/* ------------------------------
   ฐานข้อมูลคำถาม + เฉลย (ตัดออกเพื่อย่อ แต่ยังอยู่ครบในไฟล์จริง)
   ------------------------------ */
const questions = [
  {q:"ข้อใดคือความหมายของคำว่า \"อุบัติเหตุ\"", a:["สิ่งที่เกิดจากความชำนาญในการทำงาน","สิ่งที่เกิดจากความประมาทและการละเลย","สิ่งที่คาดหมายได้ว่าจะเกิดขึ้นกับตัวเอง","สิ่งที่เกิดขึ้นแล้วในอดีต"] , c:"ข"},
  {q:"งานเสี่ยงภัยข้อใดต่อไปนี้ไม่เข้าพวก", a:["ชักดร็อปเอ้าท์ฟิวส์บนเสาไฟฟ้าซึ่งอยู่สูงประมาณ 4 เมตร","ติดยึดสายไฟเบอร์ออฟฟิศเข้ากับเสาไฟฟ้า","ติดตั้งรั่วกันตกรอบปากปล่องพิทซึ่งลึก 4.5 เมตร","เปลี่ยนหลังคากระเบื้องของโรงงานผลิตชิ้นส่วนยานยนต์"], c:"ค"},
  {q:"หากพบผู้ถูกช็อกไฟฟ้า (ไฟฟ้าดูด) ต้องทำอย่างไร", a:["ใช้วัสดุที่เป็นฉนวนทางไฟฟ้าดึงออกมา","ใช้มือดึงออกมาโดยเร็ว","ยื่นไม้ให้จับแล้วดึงออกมา","ตัดวงจรแหล่งจ่ายไฟฟ้าออก"], c:"ง"},
  {q:"การปฐมพยาบาลผู้ถูกช็อกไฟฟ้า (ไฟฟ้าดูด) หมดสติ กล้ามเนื้อหดตัวจนหัวใจหยุดเต้น...วิธีที่ใช้และได้ผลคือใด", a:["ส่งโรงพยาบาล","ให้ลมหายใจด้วยออกซิเจน","ทายาหม่อง","ให้ลมหายใจด้วยปากสลับกับการนวด(การปั๊ม)หัวใจ"], c:"ง"},
  {q:"แอมป์มิเตอร์ (Amp meter) เวลาใช้งานต่อในลักษณะ", a:["อนุกรมกับแหล่งจ่าย (Supply)","อนุกรมกับภาระโหลด (Load)","ขนานกับภาระโหลด (Load)","ขนานกับแหล่งจ่าย (Supply)"], c:"ข"},
  {q:"สัญลักษณ์สีและความหมายตามมาตรฐานความปลออภัยข้อใดผิด", a:["สีเขียว - ทางออกฉุกเฉิน","สีส้ม - อุปกรณ์ป้องกันอัคคีภัย","สีเหลือง - ระมัดระวัง","สีแดง – อันตราย"], c:"ข"},
  {q:"หน่วยวัดแรงดันไฟฟ้าเรียกว่าอะไร", a:["โอห์ม (Ohm)","โวลต์ (Volt)","วัตต์ (Watt)","แอมป์ (Ampere)"], c:"ข"},
  {q:"หน่วยวัดความต้านทานเรียกว่าอะไร", a:["โอห์ม (Ohm)","โวลต์ (Volt)","แอมป์ (Ampere)","วัตต์ (Watt)"], c:"ก"},
  {q:"หนึ่ง กิโลวัตต์ มีค่าเท่าใด", a:["10 วัตต์","1,000 วัตต์","100 วัตต์","10,000 วัตต์"], c:"ข"},
  {q:"ความถี่ระบบไฟฟ้าในประเทศไทยใช้ขนาดใด", a:["70 Hz","50 Hz","80 Hz","60 Hz"], c:"ข"},
  {q:"ข้อใดคืออุปกรณ์ป้องกันส่วนบุคคลเบื้องต้น", a:["ถุงมือ หมวกนิรภัย แว่นตานิรภัย เอียร์ปลั๊ก(จุกอุดหู) รองเท้านิรภัย","ถุงมือ หมวกนิรภัย เข็มขัดนิรภัย แว่นตานิรภัย","ถุงมือ หมวกนิรภัย เข็มขัดนิรภัย รองเท้านิรภัย","ถุงมือ หมวกนิรภัย เข็มขัดนิรภัย รองเท้าพื้นยางหุ้มข้อ เอียร์ปลั๊ก(จุกอุดหู)"], c:"ก"},
  {q:"มาตรการปรับปรุงสภาพแวดล้อมในสถานที่ปฏิบัติงานข้อใดไม่สอดคล้องกัน", a:["ติดตั้งราวจับแข็งแรงที่มีความสูงของราวบน 90 -110 เซนติเมตร และราวล่างสูงเป็นครึ่งหนึ่ง","ล้อมรั้วรอบบริเวณพื้นที่ปฏิบัติงานด้วยเทปขาวสลับแดง","แผ่นปูทางเดินหรือพื้นที่ยืนทำงานที่มีหน้ากว้างมากว่า 45 เซนติเมตร","ติดยึดแผ่นขอบสูง 10 เซนติเมตร ตลอดแนวเพื่อป้องกันสิ่งของกลิ้งตก"], c:"ข"},
  {q:"ข้อใดไม่ใช่การกระทำที่ไม่ปลอดภัย (Unsafe act)", a:["รวบลัดขั้นตอนปฏิบัติงานเพราะช่วยให้ทำงานเสร็จไวขึ้น","นั่งร้านสูงสามชั้นแต่ไม่ได้ยึดเสาค้ำยัน","แอบทำงานที่ยังไม่เคยทำเพราะจะได้ฝึกฝนทักษะฝีมือให้หัวหน้าประหลาดใจ","หยอกล้อเพื่อนร่วมงานให้บรรยากาศครื้นเครงระหว่างปฏิบัติงาน"], c:"ค"},
  {q:"การสำรวจสถานที่ติดตั้งระบบผลิตไฟฟ้าพลังงานแสงอาทิตย์ต้องคำนึงถึงข้อใด", a:["สถานที่ตั้งของอาคาร และสิ่งปลูกสร้างรอบข้าง","ทิศทางและความลาดเอียงของหลังคา","ลักษณะโครงสร้างของหลังคาของอาคาร","ถูกทุกข้อ"], c:"ง"},
  {q:"ก่อนใช้เครื่องมือในงานติดตั้งทางไฟฟ้า ควรปฏิบัติตามข้อใด", a:["ใช้เครื่องมือที่มีตรารับประกันคุณภาพมาตรฐาน","ตรวจสอบระบบไฟฟ้า","แต่งกายด้วยชุดที่ทำจากฉนวนทางไฟฟ้าให้รัดกุม","ตรวจสอบว่าเครื่องมือนั้นทำงานได้อย่างถูกต้องและไม่บกพร่อง"], c:"ง"},
  {q:"การติดตั้งแผงเซลล์ฯชนิด Crystalline silicon ควรเป็นยี่ห้อหรือคนที่ได้รับการรับรองมาตรฐานจากใด", a:["มาตรฐาน มอก. 1843","มาตรฐาน มอก. 2210","มาตรฐาน มอก. 2580","มาตรฐาน มอก. 2603"], c:"ก"},
  {q:"อุปกรณ์ไฟฟ้าทุกตัวที่ติดตั้งภายนอกอาคารที่ไม่อยู่ในเครื่องห่อหุ้มทุกชิ้นต้องมีพิกัดการป้องกันไม่น้อยกว่าเท่าไร", a:["มากกว่า IP45","ไม่น้อยกว่า IP54","ไม่น้อยกว่า IP55","ไม่มากกว่า IP55"], c:"ข"},
  {q:"การต่อสายระหว่างแผงเซลล์ฯ ให้ใช้ขั้วต่อสายชนิด PV Connector ตาม IEC 62852 พิกัดแรงดันไม่น้อยกว่า 600VDC ต้องมีพิกัดการป้องกันไม่น้อยกว่าเท่าใด", a:["ไม่น้อยกว่า IP65","ไม่น้อยกว่า IP66","ไม่น้อยกว่า IP67","ไม่น้อยกว่า IP68"], c:"ค"},
  {q:"โซลาเซลล์เป็นอุปกรณ์อิเล็กทรอนิกส์ที่เปลี่ยนพลังงานในรูปแบบใด", a:["จากพลังงานแสงเป็นความถี่","จากพลังงานไฟฟ้าเป็นพลังงานแสง","จากพลังงานแสงเป็นพลังงานไฟฟ้า","จากพลังงานความร้อนเป็นพลังงานไฟฟ้า"], c:"ค"},
  {q:"ข้อใดกล่าวถูกต้องเกี่ยวกับหน้าที่ของอินเวอร์เตอร์", a:["เปลี่ยนพลังงานจลน์เป็นพลังงานไฟฟ้า","เปลี่ยนพลังงานไฟฟ้าเป็นพลังงานจลน์","เปลี่ยนไฟฟ้ากระแสตรงเป็นกระแสสลับ","แหล่งกักเก็บพลังงาน"], c:"ค"},
  {q:"สีของฉนวนของสายไฟฟ้าสำหรับระบบแรงดันไฟฟ้าต่ำ สีสำหรับเส้นไฟ (L) กำหนดเป็นสีอะไร", a:["สีแดงหรือสีแดงแถบดำ","สีฟ้า","สีเขียว หรือสีเขียวแถบเหลือง","สีน้ำตาล"], c:"ง"},
  {q:"สีของฉนวนของสายไฟฟ้าสำหรับระบบแรงดันไฟฟ้าดำ สีสำหรับสายดิน กำหนดเป็นสีอะไร", a:["สีแดงหรือสีแดงแถบดำ","สีฟ้า","สีเขียว หรือสีเขียวแถบเหลือง","สีน้ำตาล"], c:"ค"},
  {q:"สายไฟฟ้าที่ใช้เดินจากตู้ควบคุมไปยังเครื่องจักรที่ใหญ่และเคลื่อนที่ได้คือข้อใด", a:["THW","VAF","VCT","NYY"], c:"ค"},

  {q:"ตัวต้านทานตัวละ 20 โอห์ม จำนวน 4 ตัว ต่อกันแบบอนุกรมค่าของความต้านทานรวมเป็นเท่าใด", a:["36 โอห์ม","40 โอห์ม","48 โอห์ม","80 โอห์ม"], c:"ง"},
  {q:"ตัวต้านทานตัวละ 12 โอห์ม จำนวน 4 ตัว ต่อกันแบบขนานค่าของความต้านทานรวมเป็นเท่าใด", a:["3 โอห์ม","4 โอห์ม","8 โอห์ม","12 โอห์ม"], c:"ก"},
  {q:"ตัวต้านทาน 10 โอห์ม ขนาด 40 วัตต์ ที่ 220 โวลต์สามารถทนกระแสไฟฟ้าได้สูงสุดเท่าใด", a:["1 แอมแปร์","2 แอมแปร์","4 แอมแปร์","6 แอมแปร์"], c:"ข"},
  {q:"หม้อหุงข้าว ขนาด 1,100 วัตต์ ที่ 220 กินกระแสไฟฟ้าเท่าใด", a:["3 แอมแปร์","4 แอมแปร์","5 แอมแปร์","6 แอมแปร์"], c:"ค"},
  {q:"สายไฟฟ้ายาว 15 เมตร คิดเป็นกี่มิลลิเมตร", a:["150 มิลลิเมตร","1,500 มิลลิเมตร","15,000 มิลลิเมตร","150,000 มิลลิเมตร"], c:"ค"},
  {q:"หนึ่งยูนิท (UNIT) ซึ่งใช้วัดปริมาณพลังงานไฟฟ้าเพื่อการพานิชย์ คือข้อใด", a:["100 วัตต์ ซึ่งใช้เป็นเวลา 1 ชั่วโมง","1,000 วัตต์ ซึ่งใช้เป็นเวลา 1 ชั่วโมง","100 วัตต์ ซึ่งใช้เป็นเวลา 1/2 ชั่วโมง","1,000 วัตต์ ซึ่งใช้เป็นเวลา 1/2 ชั่วโมง"], c:"ข"},
  {q:"สายไฟฟ้าชนิดใดนิยมใช้ในวงจรตู้ควบคุมไฟฟ้า", a:["สาย VCT","สาย NYY","สาย VFF","สาย VSF"], c:"ง"},
  {q:"ข้อใดไม่ใช่ชนิดของโซลาร์เซลล์ที่ทำจากซิลิกอน", a:["Mono crystalline","Poly crystalline","Double crystalline","Amorphous"], c:"ค"},
  {q:"แผ่น Silicon เล็กๆ ที่ถูกประกอบในแผง PV มีชื่อเรียกว่าอะไร", a:["PV MODULE","PV STRING","PV ARRAY","PV CELL"], c:"ง"},
  {q:"ข้อใดไม่ใช่แผงโซลาร์เซลล์ประเภท Thin-Film", a:["Amorphous Silicon","Cadmium Telluride","Copper Indium Gallium Selenide","Mono Crystalline"], c:"ง"},
  {q:"ขั้วต่อสายไฟฟ้า DC ระหว่างแผงโซล่าเซลล์ มีชื่อเรียกว่าอะไร", a:["หางปลาต่อกับอุปกรณ์","PV Connector","เต้าและแกนเสียบสายไฟ PV","MC4 socket"], c:"ข"},
  {q:"เครื่องมือที่ใช้วัดกระแสไฟฟ้า เรียกว่าอะไร", a:["โวลต์มิเตอร์","แอมป์มิเตอร์","วัตต์มิเตอร์","โอห์มมิเตอร์"], c:"ข"},
  {q:"เมื่อเลิกใช้มัลติมิเตอร์ (Multi Meter) แล้ว ต้องปฏิบัติเพื่อการป้องกันการผิดพลาดจากการใช้มิเตอร์อย่างไร", a:["ปรับสวิตช์เลือกตำแหน่ง ไว้ที่ย่านวัดค่าความต้านทานสูงสุด","ปรับสวิตช์เลือกตำแหน่งไปที่ตำแหน่ง OFF หรือที่ย่านวัดแรงดันไฟฟ้า AC สูงสุด","ปรับสวิตช์เลือกตำแหน่ง ไว้ที่ย่านวัดกระแสไฟฟ้า DC สูงสุด","ปรับสวิตช์เลือกตำแหน่ง ไว้ที่ย่านวัดแรงดันไฟฟ้า DC สูงสุด"], c:"ข"},
  {q:"แผงโซลาร์เซลล์ที่ติดตั้งในประเทศไทยควรปรับแผงไปทางทิศใด", a:["เหนือ","ใต้","ตะวันออก","ตะวันตก"], c:"ข"},
  {q:"แผ่น Silicon เล็กๆ ที่นำมาต่ออนุกรม รวมเป็นแผงแผงเดียวกัน มีชื่อเรียกว่าอะไร", a:["PV MODULE","PV STRING","PV ARRAY","PV CELL"], c:"ข"},
  {q:"อุปกรณ์ Spanner ตามภาพใช้ทำหน้าที่อะไร ", a:["จับยึดสาย PV1-F","ขันน็อตแบตเตอรี่","ขันเกลียวและถอดขั้วต่อ PV Connector","ไม่มีข้อใดถูก"], c:"ค"},
  {q:"เซอร์กิตเบรกเกอร์ที่มีตัวเลขแสดงค่า \"20\" คือข้อใด", a:["สามารถใช้กับโหลดได้ไม่เกิน 20 แอมแปร์","สามารถใช้กับโหลดได้ตั้งแต่ 20 แอมแปร์ ขึ้นไป","สามารถใช้กับโหลดเฉพาะ ขนาด 20 แอมแปร์ เท่านั้น","ไม่มีข้อถูก"], c:"ก"},
  {q:"ไดอะแกรมของ PV Array ในภาพเป็นกรณีใด", a:["PV String หนึ่งแถว","PV String ต่อขนานหลายแถว","PV String ต่อขนานหลายแถว โดยแบ่งเป็น Sub-Array","ไม่มีข้อใดถูก"], c:"ก"},
  {q:"ถ้าขนาดของงานจริงยาว 24 มิลลิเมตร ต้องการใช้มาตราส่วน 1:3 ความยาวของงานบนแบบจะยาวเท่าไร", a:["72 มิลลิเมตร","8 มิลลิเมตร","48 มิลลิเมตร","6 มิลลิเมตร"], c:"ข"},
  {q:"อุปกรณ์ใดที่นำมาใช้งานร่วมกับโซลาร์เซลล์ในการผลิตกระแสไฟฟ้า", a:["แบตเตอรี่ (Battery)","เครื่องควบคุมการประจุ (Charger)","เครื่องแปลงกระแสไฟฟ้า (Inverter)","ถูกทุกข้อ"], c:"ง"},
  {q:"ภาพไดอะแกรมของ PV Array ประเภทใด", a:["PV String หนึ่งแถว","PV String ต่อขนานหลายแถว","PV String ต่อขนานหลายแถวโดยแบ่งเป็น Sub-Array","PV String สองแถว"], c:"ข"},
  {q:"ปัจจัยใดเป็นปัจจัยทางด้านสมรรถนะของ PV Array", a:["การบังแสง (Shading)","มุมองศาการติดตั้ง","อุณหภูมิที่สูงขึ้น","ถูกทุกข้อ"], c:"ง"},
  {q:"ดอกสว่านตามภาพมีชื่อเรียกว่าอะไร ", a:["ดอกสว่านเจาะปูน","ดอกสว่านไฮสปีด","ดอกสว่านเจาะเหล็ก","ดอกสว่านเจาะไม้"], c:"ค"},
  {q:"ในกรณีที่ใช้ฟิวส์ เป็นอุปกรณ์ป้องกันกระแสเกิน และฟิวส์นั้นขาดอยู่บ่อยๆ เพราะใช้กระแสไฟฟ้า มีวิธีแก้ไขอย่างไร", a:["หาฟิวส์ขนาดเดียวกันมาใส่แทน","หาฟิวส์ขนาดโตกว่ามาใส่แทน","ตรวจสอบสายไฟฟ้า เพื่อหาจุดที่เกิดการลัดวงจรขึ้น","ตรวจสอบขนาดโหลดของวงจรใหม่"], c:"ง"},
  {q:"เครื่องมือช่างไฟฟ้าตามภาพคืออะไร ", a:["ไขควงปากแฉก","ไขควงวัดไฟฟ้า","ไขควงปากแบน","บิดหล้า"], c:"ค"},
  {q:"กระเบื้องมุงหลังตามภาพ มีชื่อเรียกว่าอะไร ", a:["กระเบื้องหลังคาดินเผา","กระเบื้องหลังคาไฟเบอร์ซีเมนต์","กระเบื้องหลังคาคอนกรีต","กระเบื้องหลังคาเซรามิค"], c:"ข"},
  {q:"ข้อใดกล่าวผิดเกี่ยวกับสายไฟ PV/PV1-F", a:["เป็นสายเส้นเล็กตีเกลียว ประจุไฟฟ้าไหลผ่านได้ดี จึงเหมาะกับระบบไฟ DC","ตัวนำเป็นสายทองแดงเคลือบดีบุก หุ้มฉนวน 2 ชั้น ทนความร้อน","ทนอุณหภูมิได้ไม่น้อยกว่า 100 องศาเซลเซียส","ผิวตัวนำเคลือบดีบุกช่วยป้องกันการกัดกร่อนหรือเกิดออกไซด์"], c:"ค"},
  {q:"ข้อใดไม่ใช่ชื่อที่เรียกขานเครื่องมือตามภาพ", a:["เครื่องมือใช้วัดแรงบิดของสกรู","ประแจปอนด์","ประแจถอดล้อ","ประแจวัดแรงบิด"], c:"ค"},
  {q:"การขนานอินเวอร์เตอร์เข้ากับระบบของการไฟฟ้าต้องพิจารณาอะไรบ้าง", a:["แรงดันไฟฟ้า กระแสไฟฟ้า กำลังไฟฟ้า","ความถี่ กระแสไฟฟ้า กำลังไฟฟ้า","ลำดับเฟส ความถี่ กระแสไฟฟ้า","แรงดันไฟฟ้า ความถี่ ลำดับเฟส"], c:"ง"},
  {q:"หน่วยงานผลิตกระแสไฟฟ้าในประเทศไทยคือหน่วยงานใด", a:["การไฟฟ้านครหลวง","การฟ้าส่วนภูมิภาค","การไฟฟ้าฝ่ายผลิตแห่งประเทศไทย (กฟผ.)","กรมพลังงาน"], c:"ค"},
  {q:"ค่าความต้านทานดินสำหรับอาคารที่มี Inverter > 20 kVA ต้องเป็นเท่าใด (ตามมาตรฐาน)", a:["5 โอห์ม","2 กิโลโอห์ม"," ไม่เกิน 5 กิโลโอห์ม"," ไม่เกิน 10โอห์ม"], c:"ก"},
  {q:"สายนำลงดินของ PV Array ต้องไม่น้อยกว่ากี่ ตารางมม.", a:["4 ตร.มม.","6 ตร.ม.","10 ตร.ม.","16 ตร.ม."] , c:"ค"},
  {q:"อุปกรณ์ที่ใช้แทนหลักดินได้ (ข้อใดถูก)", a:["โครงเหล็กอาคารที่ลงดินถูกต้อง","แผ่นเหล็กฝังตามมาตรฐาน","ทั้ง ก และ ข","ไม่มีข้อใดถูก"], c:"ค"},
  {q:"วัสดุใดไม่ควรใช้ทำแท่งหลักดิน", a:["แท่งเหล็กหุ้มด้วยทองแดง","แท่งอลูมิเนียม","แท่งทองแดง","แท่งเหล็กอาบสังกะสี"], c:"ข"},
  {q:"ค่าความต้านทานระหว่างหลักดินกับดิน ต้องไม่เกินเท่าใด", a:["2 โอห์ม","3 โอห์ม","4 โอห์ม","5 โอห์ม"], c:"ก"},
  {q:"อุปกรณ์ป้องกันอันตรายส่วนบุคคลที่เหมาะสมคือข้อใด", a:["ถุงมือยางป้องกันไฟฟ้าดูด","รองเท้าผ้าใบ","เข็มขัด","ถูกทุกข้อ"], c:"ก"},
  {q:"อุปกรณ์ความปลอดภัยสำหรับทำงานบนที่สูงข้อใดถูก", a:["เข็มขัดนิรภัย","ราวกันตก","เชือกช่วยชีวิต","ถูกทุกข้อ"], c:"ง"},
  {q:"ในกรณีที่ต้องการใช้หลอดไฟฟ้า 100W 110V จำนวน 2 หลอด ต่อกับ 220V จะต้องต่อแบบใด", a:["แบบอนุกรม","แบบขนาน","แบบผสม","ผิดหมดทุกข้อ"], c:"ก"},
  {q:"การปฏิบัติที่ดีเมื่อติดตั้งไฟฟ้า ข้อใดถูก", a:["ใส่รองเท้าพื้นยาง","ไม่ทำงานกับอุปกรณ์มีไฟ","รายงานอันตราย","ถูกทุกข้อ"], c:"ง"},
  {q:"มอเตอร์ ≤ 180W ต้องมีอุปกรณ์ป้องกันกระแสเกินแบบใด", a:["เบรกเกอร์","ฟิวส์","รีเลย์","ไม่มีข้อถูก"], c:"ข"},
  {q:"ความหมายของ Trip ของ Circuit Breaker คืออะไร", a:["CB ตัดวงจรเมื่อกระแสเกินพิกัด","CB ทำงานเมื่อแรงดันเกิน","CB ปล่อยความร้อน","CB ทำงานเพื่อชาร์จแบตเตอรี่"], c:"ก"},
  {q:"เครื่องมือวัดที่วัดได้หลายค่าในตัวเดียวเรียกว่าอะไร", a:["มัลติมิเตอร์","โวลต์มิเตอร์","แอมป์มิเตอร์","โอห์มมิเตอร์"], c:"ก"},
  {q:"สัญลักษณ์ Class II หมายถึงข้อใด", a:["เครื่องใช้ที่มีฉนวนมูลฐาน ไม่สามารถต่อสายดินได้","เครื่องใช้ที่ต้องต่อสายดิน","เครื่องใช้สำหรับงานกลางแจ้ง","เครื่องใช้ที่ใช้ไฟ DC เท่านั้น"], c:"ก"},  
  {q:"สายไฟที่ออกแบบสำหรับงานโซลาร์เซลล์คือข้อใด", a:["THW","PV1-F","NYY","VFF"], c:"ข"},
  {q:"เครื่องวัดที่วัดกระแสโดยไม่ต้องตัดวงจรคืออะไร", a:["แคลมป์มิเตอร์","แอมป์มิเตอร์แบบสายต่อ","โวลต์มิเตอร์","มัลติมิเตอร์แบบธรรมดา"], c:"ก"},
  {q:"หลักดินควรฝังลึกไม่น้อยกว่าเท่าใด", a:["1.0 เมตร","1.5 เมตร","2.0 เมตร","2.5 เมตร"], c:"ค"},
  {q:"ระบบไฟฟ้า 1 เฟส 2 สาย ที่อยู่อาศัยในไทยใช้แรงดันเท่าใด", a:["110 V","120 V","220 V","240 V"], c:"ค"},
  {q:"กรมพัฒนาฝีมือแรงงานสังกัดกระทรวงใด", a:["กระทรวงพลังงาน","กระทรวงมหาดไทย","กระทรวงแรงงาน","กระทรวงอุตสาหกรรม"], c:"ค"},
  {q:"การใช้โวลต์มิเตอร์วัดแรงดันควรต่อแบบใด", a:["ต่ออนุกรม","ต่อขนาน","ต่อแบบสลับ","ต่อผ่านตัวต้านทาน"], c:"ข"},
  {q:"โซลาร์เซลล์ให้พลังงานเมื่อใด", a:["เมื่อมีความเข้มของแสง","เมื่อมีความร้อน","เมื่อมีแรงดันไฟฟ้า","เมื่อถูกน้ำ"], c:"ก"},
  {q:"ปริมาณออกซิเจนในอากาศโดยรอบโดยเฉลี่ยอยู่ที่เท่าใด", a:["10%","21%","50%","78%"], c:"ข"},
  {q:"สายไฟที่สามารถฝังดินโดยตรงได้คือข้อใด", a:["THW","NYY","VCT","PV1-F"], c:"ข"}
];
const letters=["ก","ข","ค","ง"];
let current = 0;
let answers = Array(questions.length).fill(null);
let examLocked=false;
let reviewMode=false;
let timer;
let timeLeft = 60*60; // 60 นาที

function startTimer(){
  timer = setInterval(()=>{
    timeLeft--;
    if(timeLeft<=0){ clearInterval(timer); finishExam(); }
    const m = Math.floor(timeLeft/60).toString().padStart(2,'0');
    const s = (timeLeft%60).toString().padStart(2,'0');
    document.getElementById('timer').textContent = `${m}:${s}`;
  },1000);
}

function renderQuestion(i){
  const q = questions[i];
  const container = document.getElementById('questionContainer');
  const ans = answers[i];
  const isCorrect = ans === q.c;

  const cardClass = reviewMode ? (isCorrect ? "card correct" : "card wrong") : "card";

  let html = `<div class="${cardClass}"><div class="qhead"><span class="qnum">ข้อ ${i+1}.</span> ${q.q}`;

  if(reviewMode){
    html += isCorrect 
      ? ' <span style="color:green;font-weight:bold">✔ ถูก</span>' 
      : ' <span style="color:red;font-weight:bold">✘ ผิด</span>';
  }

  html += '</div>';

  if(/แนบรูป|ภาพ|ตามภาพ|ตามไฟล์ภาพ/i.test(q.q)){
    html += `<img class="qimg" src="images/q${String(i+1).padStart(2,'0')}.png" alt="รูปคำถาม ข้อ ${i+1}">`;
  }

  html += '<div class="options">';
  q.a.forEach((opt, idx)=>{
    const L = letters[idx];
    const picked = answers[i]===L ? 'opt-picked' : '';
    html += `<label class="${picked}"><input type="radio" name="q${i}" value="${L}" ${answers[i]===L? 'checked':''}> ${L}. ${opt}</label>`;
  });
  html += '</div>';

  if(reviewMode){
    html += '<div style="margin-top:10px">เฉลยที่ถูกต้อง: ' + q.c + '</div>';
  }

  html += '</div>';
  container.innerHTML = html;

  const inputs = container.querySelectorAll('input[type=radio]');
  inputs.forEach(inp=> inp.onchange = (e)=>{ 
    if(!examLocked){ 
      answers[i]=e.target.value; 
      renderQuestion(i); 
      updateSidebar(); 
      checkFinishButton(); 
    } 
  });
}

function updateSidebar(){
  document.getElementById('score').textContent = `ตอบแล้ว: ${answers.filter(x=>x).length} / ${questions.length}`;
}

function goTo(idx){ if(idx<0) idx=0; if(idx>=questions.length) idx=questions.length-1; current=idx; renderQuestion(current); }

document.getElementById('nextBtn').onclick = ()=>{ if(current<questions.length-1) current++; renderQuestion(current); };
document.getElementById('prevBtn').onclick = ()=>{ if(current>0) current--; renderQuestion(current); };
document.getElementById('btnReset').onclick = ()=>{ if(confirm('ล้างคำตอบทั้งหมด?')){ answers = Array(questions.length).fill(null); renderQuestion(current); updateSidebar(); checkFinishButton(); } };
document.getElementById('btnNextUnanswered').onclick = ()=>{
  const idx = answers.findIndex(x=>!x);
  if(idx===-1){ alert('ไม่มีข้อที่ยังไม่ทำ'); } else { goTo(idx); }
};

document.getElementById('finishBtn').onclick = ()=>{
  if(confirm('ยืนยันการส่งคำตอบ?')){ finishExam(); }
};

function checkFinishButton(){
  const allAnswered = answers.every(x=>x);
  document.getElementById('finishBtn').style.display = allAnswered && !examLocked ? 'inline-block':'none';
}

function calcScore(){
  let s=0; questions.forEach((q,i)=>{ if(answers[i]===q.c) s++; });
  document.getElementById('score').textContent = `คะแนน: ${s} / ${questions.length}`;
  return s;
}

function showSummary(){
  const s = calcScore();
  const el = document.getElementById('summary');
  let html = `<div><strong>ผลรวม:</strong> ถูก ${s} จาก ${questions.length} ข้อ</div>`;
  el.innerHTML = html;
}

function finishExam(){
  examLocked=true; reviewMode=true;
  clearInterval(timer);
  calcScore(); renderQuestion(current); showSummary();
  alert('หมดเวลาหรือส่งข้อสอบแล้ว ระบบเข้าสู่โหมดรีวิว');
}

document.getElementById('startBtn').onclick = ()=>{
  const name = document.getElementById('nameInput').value.trim();
  if(!name){ alert('กรุณากรอกชื่อก่อน'); return; }
  document.getElementById('candidate').textContent = 'ผู้สอบ: ' + name;
  document.getElementById('startModal').style.display='none';
  document.getElementById('app').style.display='flex';
  startTimer();
  renderQuestion(0);
  updateSidebar();
  checkFinishButton();
};
</script>
</body>
</html>





